<div class="container mt-5" data-controller="insert-map">
  <div class="row">
    <div class="col-6">
      <h3 class="mb-3 text-center">Crea tu Publicación</h3>
      <%= simple_form_for [@pet, @post] do |f| %>
      <div class="row">
        <div class="col-6">
          <%= f.input :title, placeholder: "Título", label: false %>
        </div>
      </div>
      <div class="row">
          <div class="col-6">
            <%= f.input :description, as: :text , placeholder: "Descripcion", label: false %>
          </div>
          <div class="col-6">
            <%= f.input :status, label: "Reportar como", as: :radio_buttons, collection: ['Perdido', 'Encontrado'] %>
          </div>
        </div>
      <div class="row">
        <div class="col-6">
          <%= f.input :address, placeholder: "Dirección", label: false, input_html: { data: { insert_map_target: 'inputAddress' } } %>
        </div>
        <div class="col-6 align-self-start">
          <%= link_to "Previsualizar", locate_path(@post), class: "btn btn-form", id: "preview", data: { insert_map_target: 'preview',
                      action: 'click->insert-map#showMap'} %>
        </div>
      </div>
      <div class="container text-center">
        <div class="row">
          <div class="col">
            <%= f.button :submit, "Publicar", class: "btn btn-gradient" %>
          </div>
        </div>
      </div>
      <% end %>
    </div>
    <p class="d-none">Coordenadas</p>
    <div class="col-6">
        <div id="map" data-insert-map-target="map" style="height: 300px; width: 600px" data-marker="" data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></div>
    </div>
    <div id="out" data-insert-map-target="out">
      <p></p>
    </div>
  </div>
</div>
